{% extends "base.html.twig" %}

{% block title %}
	Profile
{% endblock %}

{% block body %}
	<section class="profile">
		<h1>Mon profil</h1>
		<img src="{{vich_uploader_asset(user)}}" alt="" height='50px' width='50px'>
		<div class="me">
			<div class="para">
				<h2>{{user.username}}</h2>
				<p>{{user.email}}</p>
			</div>
			<a href="{{path('user.profile.edit',{id:user.id})}}" class="button btn-primaire">Modifier</a>
		</div>
		<div class="info">
			<h3>Mes infos</h3>
			<div class="info-container">
				{% if user.userInfo is empty %}
					<p>
						Taille : 0 cm
					</p>
					<p>
						Poids : 0.0 kg

					</p>
					<p>
						IMC : 0

					</p>

					<a href="{{path('user.profile.infos',{id:user.id})}}" class="button btn-primaire">Modifier</a>

				{% else %}
					<p>
						Taille :
						{{user.userInfo.taille}}
						cm
					</p>


					<p>
						Poids :
						{{user.userInfo.poids}}
						kg</p>
					<p>
						IMC :
						{{user.userInfo.poids / (user.userInfo.taille * user.userInfo.taille ) * 10000 }}
					</p>

					<div class="btn-container">
						<a href="{{path('user.profile.infos',{id:user.userInfo.id})}}" class="button btn-primaire">Modifier</a>
						<form action="{{ path('user.profile.infos.delete', {id: user.userInfo.id}) }}" method="POST" onsubmit="return confirm('Êtes-vous sûr de vouloir supprimer ces infos')">
							<input type="hidden" name="token" value="{{ csrf_token('delete'~ user.userInfo.id) }}">
							<button type="submit" class="btn btn-danger">Supprimer</button>
						</form>
					</div>
				{% endif %}
			</div>

		</div>
	</section>
{% endblock %}
